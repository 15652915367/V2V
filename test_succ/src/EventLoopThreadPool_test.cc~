#include <muduo/net/EventLoopThreadPool.h>
#include <muduo/net/EventLoop.h>
#include <muduo/base/Thread.h>
#include <boost/bind.hpp>
#include <stdio.h>
#include <unistd.h>


#include "getGPS.h"

using namespace muduo;
using namespace muduo::net;
using namespace std;



int main()
{
	//this line must exist, or it cannot pass compile.(no idea why...)
	cout<<CurrentThread::tid()<<endl;

	EventLoop loop;
	cout<<CurrentThread::tid()<<endl;
	//loop.runAfter(11, boost::bind(&EventLoop::quit, &loop));
	loop.runAfter(0, getGPS_run);

	loop.loop();
	
}
